(this["webpackJsonpproject-barabom"]=this["webpackJsonpproject-barabom"]||[]).push([[0],{55:function(n,e,t){},71:function(n,e){},91:function(n,e,t){"use strict";t.r(e);var r={};t.r(r),t.d(r,"injectPlayer",(function(){return mn})),t.d(r,"getTracks",(function(){return vn})),t.d(r,"appendTracks",(function(){return yn})),t.d(r,"play",(function(){return kn}));var a,c,i,o,s,l,b,d,p,u,j,f,x,h,O,g,m,v,y=t(1),k=t(24),w=t.n(k),S=(t(55),t(13)),C=t(5),R=t(6),W=t.p+"static/media/Spotify_Icon.0e932c0a.png",_=Object(R.c)(a||(a=Object(C.a)(["\n    from {\n        transform: rotateZ(0deg) translateZ(3px);\n    } to {\n        transform: rotateZ(720deg) translateZ(3px);\n    }\n"]))),I=Object(R.c)(c||(c=Object(C.a)(["\n    from {\n        transform: translateX(300%);\n    } to {\n        transform: translateX(-200%);\n    }\n"]))),L={getMusicAritst:function(n){return"".concat(n.artists[0].name," - ").concat(n.name)}},A=t(3);var T=R.b.div(i||(i=Object(C.a)(["\n  position: absolute;\n  top: 0;\n  left: calc(50% - 40px);\n  width: 80px;\n  overflow-x: hidden;\n\n  transform: translateY(-15px);\n\n  transform-style: preserve-3d;\n"]))),z=R.b.h1(o||(o=Object(C.a)(["\n  font-size: 10px;\n  animation: "," 10.5s infinite linear;\n  text-align: end;\n\n  white-space: nowrap;\n"])),I),P=R.b.img(s||(s=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n\n  object-fit: cover;\n"]))),J=R.b.div(l||(l=Object(C.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 10px;\n  width: 1000px;\n\n  border: 1px solid #999;\n  transform: rotateY(-90deg);\n  transform-origin: 0% 50%;\n\n  background: #999;\n"]))),X=R.b.div(b||(b=Object(C.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 1000px;\n  width: 10px;\n\n  border: 1px solid #999;\n\n  transform: rotateX(90deg);\n  transform-origin: 50% 0%;\n\n  background: #ccc;\n"]))),Z=R.b.div(d||(d=Object(C.a)(["\n  position: relative;\n\n  width: 10px;\n  height: 10px;\n\n  transform-style: preserve-3d;\n"]))),M=R.b.div(p||(p=Object(C.a)(["\n  perspective: 1000px;\n"]))),N=R.b.div(u||(u=Object(C.a)(["\n  position: relative;\n\n  width: 100px;\n  height: 100px;\n\n  & div {\n    box-sizing: border-box;\n  }\n\n  & > div {\n    position: absolute;\n  }\n\n  & > .top {\n    top: 0;\n    left: 0;\n  }\n\n  & > .realtop {\n    top: 0;\n    right: calc(50% - 45px);\n  }\n\n  & > .bottom {\n    bottom: 0;\n    right: calc(50% - 45px);\n  }\n  transform: rotateY(20deg);\n\n  transform-style: preserve-3d;\n"]))),B=R.b.div(j||(j=Object(C.a)(["\n  width: 90px;\n  height: 30px;\n\n  transform-origin: 50% 50%;\n  transform: rotateX(-90deg) translateZ(-15px);\n\n  background-color: #333;\n"]))),D=R.b.div(f||(f=Object(C.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 30px;\n\n  transform-origin: 50% 50%;\n  transform: rotateX(-90deg) translateZ(15px);\n\n  background-color: #333;\n\n  transform-style: preserve-3d;\n"]))),H=R.b.div(x||(x=Object(C.a)(["\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n\n  width: 10px;\n  height: 10px;\n\n  background-color: black;\n  border-radius: 100%;\n  box-sizing: border-box;\n\n  transform: translateZ(5px);\n"]))),Y=R.b.div(h||(h=Object(C.a)(["\n  top: calc(50% - 37.5px);\n  left: calc(50% - 37.5px);\n\n  width: 75px;\n  height: 75px;\n\n  border: 1px solid black;\n  border-radius: 100%;\n\n  transform: translateZ(3px);\n\n  background: white;\n\n  overflow: hidden;\n\n  &.play {\n    animation: "," 1.5s infinite linear;\n  }\n"])),_),Q=R.b.div(O||(O=Object(C.a)(["\n  top: calc(50% - 37.5px);\n  left: calc(50% - 37.5px);\n\n  width: 75px;\n  height: 75px;\n\n  border: 1px solid black;\n  border-radius: 100%;\n\n  background: black;\n"]))),E=R.b.div(g||(g=Object(C.a)(["\n  cursor: pointer;\n  position: relative;\n\n  width: 80px;\n  height: 80px;\n\n  border: 1px solid black;\n  border-radius: 100%;\n\n  transform-style: preserve-3d;\n  background: radial-gradient(circle at 100%, #fff 75%, #333 100%);\n\n  & > div {\n    position: absolute;\n  }\n"]))),F=R.b.div(m||(m=Object(C.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n\n  border: 1px solid black;\n  border-radius: 0.5rem;\n  background-color: white;\n\n  transform: translateZ(15px);\n\n  transform-style: preserve-3d;\n"]))),V=R.b.div(v||(v=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n\n  border: 1px solid #333;\n  border-radius: 0.5rem;\n\n  transform: translateZ(-15px);\n\n  background: #333;\n"]))),K=function(n){return Object(A.jsx)(M,{className:"cdp",children:Object(A.jsxs)(N,{children:[n.item&&Object(A.jsx)(T,{children:Object(A.jsx)(z,{children:L.getMusicAritst(n.item)})}),Object(A.jsx)(B,{className:"realtop"}),Object(A.jsx)(F,{className:"top",children:Object(A.jsxs)(E,{onClick:function(){return n.changeSearchState(!0)},children:[Object(A.jsx)(H,{}),Object(A.jsx)(Y,{ref:n.refCD,children:Object(A.jsx)(P,{src:n.item?n.item.album.images[0].url:W,alt:"AlbumArt"})}),Object(A.jsx)(Q,{})]})}),Object(A.jsx)(V,{className:"top"}),Object(A.jsx)(D,{className:"bottom",children:Object(A.jsxs)(Z,{children:[Object(A.jsx)(X,{}),Object(A.jsx)(J,{})]})})]})})},q=t.p+"static/media/keonu.12f6d4e1.jpg",G=t(27),U=t.p+"static/media/Spotify_Logo_RGB_Black.0d1e5545.png",$=t(9),nn=t(26),en=t(93);function tn(n){return["".concat(n),"".concat(n,"/success"),"".concat(n,"/failure")]}var rn,an,cn=tn("spotify/inject_player"),on=Object(S.a)(cn,1)[0],sn=tn("spotify/gettracks"),ln=Object(S.a)(sn,3),bn=ln[0],dn=ln[1],pn=ln[2],un=tn("spotify/gettracks/append"),jn=Object(S.a)(un,3),fn=jn[0],xn=jn[1],hn=(jn[2],tn("spotify/play")),On=Object(S.a)(hn,3),gn=On[0],mn=(On[1],On[2],Object(en.a)(on,(function(n){return n}))),vn=Object(en.a)(bn,(function(n){return{q:n}})),yn=Object(en.a)(fn,(function(n){var e=Object.assign({},n);return Object($.a)({},e)})),kn=Object(en.a)(gn,(function(n){return Object.assign({},n)})),wn=Object(nn.b)((function(n){var e=n.SpotifyReducer,t=n.LoadingReducer;return Object($.a)(Object($.a)({},e),{},{loading:t})}),r);var Sn,Cn=R.b.input(rn||(rn=Object(C.a)(["\n  ","\n\n  font-size: 2rem;\n  padding: 0.5rem;\n\n  color: #666;\n  box-sizing: border-box;\n  border-radius: 1rem;\n  border: 1px solid #ccc;\n\n  &::placeholder {\n    color: #eee;\n  }\n"])),(function(n){return n.block&&Object(R.a)(an||(an=Object(C.a)(["\n      width: 100%;\n      display: block;\n    "])))})),Rn=function(n){return Object(A.jsx)(Cn,Object($.a)({},n))},Wn=(t(61),{msToString:function(n){"string"===typeof n&&(n=parseInt(n));var e=Math.floor(n/1e3/60),t=Math.floor(n/1e3%60);return t<10&&(t="0"+t),"".concat(e,":").concat(t)}});var _n,In,Ln=R.b.div(Sn||(Sn=Object(C.a)(["\n  position: relative;\n\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n\n  padding: 0.75rem 0;\n  cursor: pointer;\n\n  & > img {\n    width: 64px;\n    height: 64px;\n    margin: 0 0.75rem 0 0;\n  }\n\n  & > .track {\n    flex: 1;\n\n    & > .title {\n      font-size: 16px;\n      font-weight: 400;\n      letter-spacing: normal;\n      line-height: 24px;\n      text-transform: none;\n\n      color: #333;\n    }\n\n    & > .artist {\n      font-size: 14px;\n      font-weight: 400;\n      letter-spacing: normal;\n      line-height: 16px;\n      text-transform: none;\n\n      color: #555;\n    }\n  }\n\n  & > .duration {\n    font-size: 14px;\n    font-weight: 400;\n    letter-spacing: normal;\n    line-height: 16px;\n    text-transform: none;\n\n    color: #777;\n  }\n"]))),An=function(n){var e=n.item,t=n.selectPlayItem;return Object(A.jsxs)(Ln,{onClick:function(){return t(e)},children:[Object(A.jsx)("img",{className:"albumart",src:e.album.images[0].url,alt:"albumarts"}),Object(A.jsx)("span",{}),Object(A.jsxs)("span",{className:"track",children:[Object(A.jsx)("h1",{className:"title",children:e.name}),Object(A.jsx)("h5",{className:"artist",children:e.artists[0].name})]}),Object(A.jsx)("span",{className:"duration",children:Wn.msToString(e.duration_ms)})]})};var Tn,zn,Pn=Object(R.c)(_n||(_n=Object(C.a)(["\n    from {\n        transform: rotateZ(0deg);\n    } to {\n        transform: rotateZ(360deg);\n    }\n"]))),Jn=R.b.div(In||(In=Object(C.a)(["\n  margin: 0 auto;\n  width: 30px;\n  height: 30px;\n\n  border: 5px solid #fff;\n  border-top: 5px solid #333;\n\n  border-radius: 100%;\n  animation: "," 1s infinite linear;\n"])),Pn),Xn=function(){return Object(A.jsx)(Jn,{})};var Zn,Mn,Nn,Bn,Dn=R.b.div(Tn||(Tn=Object(C.a)(["\n  flex: 1;\n\n  box-sizing: border-box;\n  padding: 0 1.75rem;\n\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    display: none; /* Chrome, Safari, Opera*/\n  }\n"]))),Hn=R.b.div(zn||(zn=Object(C.a)(["\n  display: flex;\n\n  align-items: center;\n  justify-content: center;\n\n  padding: 0.75rem 0;\n  box-sizing: border-box;\n"]))),Yn=function(n){var e=n.items,t=n.selectPlayItem,r=n.loading,a=n.refList;return Object(A.jsxs)(Dn,{ref:a,children:[null===e||void 0===e?void 0:e.map((function(n,e){return Object(A.jsx)(An,{item:n,selectPlayItem:t},e)})),r&&Object(A.jsx)(Hn,{children:Object(A.jsx)(Xn,{})})]})},Qn=t(22),En=t.n(Qn);var Fn,Vn,Kn,qn=R.b.div(Zn||(Zn=Object(C.a)(["\n  display: flex;\n  flex-flow: column;\n\n  position: absolute;\n  bottom: 0;\n  left: calc(50% - 235px);\n\n  width: 470px;\n  height: 470px;\n  border-radius: 1rem 1rem 0 0;\n\n  background: white;\n  transform: translateY(500px);\n  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.25);\n  transition: cubic-bezier(0.24, 0.65, 0.38, 0.88) 0.7s;\n\n  ","\n"])),(function(n){return n.isOn&&Object(R.a)(Mn||(Mn=Object(C.a)(["\n      transform: translateY(10px);\n    "])))})),Gn=R.b.div(Nn||(Nn=Object(C.a)(["\n  width: 100%;\n\n  padding: 0 1.25rem;\n  box-sizing: border-box;\n"]))),Un=R.b.div(Bn||(Bn=Object(C.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  width: 100%;\n\n  padding: 1rem 1.25rem;\n  box-sizing: border-box;\n\n  & > img {\n    width: 200px;\n    height: auto;\n  }\n\n  & > span {\n    cursor: pointer;\n\n    font-style: normal;\n    font-weight: 300;\n    font-size: 24px;\n    line-height: 29px;\n    text-transform: uppercase;\n\n    color: #666;\n\n    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.25);\n  }\n\n  & > span:hover {\n    color: #333;\n  }\n"]))),$n=wn((function(n){var e=n.onSearch,t=n.changeSearchState,r=n.getTracks,a=n.appendTracks,c=n.tracks,i=n.selectPlayItem,o=n.loading,s=Object(y.useState)(""),l=Object(S.a)(s,2),b=l[0],d=l[1],p=Object(y.useRef)(null),u=Object(y.useRef)(Object(G.a)((function(n){""!==n?(console.log("".concat(n,"\ub85c \uc9c0\uae08\uc694\uccad")),r(n),p.current&&p.current.scrollTo({top:0})):console.log("\uc694\uccad \uc548\ud569\ub2c8\ub2e4.")}),1e3)),j=Object(y.useCallback)((function(n){var e=n.target.value;d(e),u.current(e)}),[]),f=Object(y.useCallback)((function(){d(""),t(!1)}),[t]),x=Object(y.useCallback)((function(){if(console.log("next Query",c),this.scrollTop>=this.scrollHeight-this.offsetHeight&&(null===c||void 0===c?void 0:c.next)){var n=En.a.parse(c.next.split("?")[1]);a({q:n.query,offset:n.offset})}}),[c,a]),h=Object(y.useRef)(Object(G.a)(x,500)),O=Object(y.useCallback)((function(){p.current&&p.current.removeEventListener("scroll",h.current),p.current&&(h.current=Object(G.a)(x,500),p.current.addEventListener("scroll",h.current))}),[x]);return Object(y.useEffect)((function(){O()}),[O]),Object(A.jsxs)(qn,{isOn:e,children:[Object(A.jsxs)(Un,{children:[Object(A.jsx)("img",{src:U,alt:"Spotify Logo"}),Object(A.jsx)("span",{onClick:f,children:"X"})]}),Object(A.jsx)(Gn,{children:Object(A.jsx)(Rn,{value:b,onChange:j,placeholder:"Music",block:!0})}),Object(A.jsx)(Yn,{items:null===c||void 0===c?void 0:c.items,selectPlayItem:i,loading:o[bn]||o[fn],refList:p})]})}));var ne=R.b.div(Fn||(Fn=Object(C.a)(["\n  display: flex;\n  position: relative;\n\n  width: 500px;\n  height: 500px;\n\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  overflow: hidden;\n"])),q),ee=R.b.div(Vn||(Vn=Object(C.a)(["\n  position: absolute;\n  top: 0;\n  height: 0;\n\n  width: 100%;\n  height: 100%;\n\n  background: rgba(196, 196, 196, 0.4);\n"]))),te=R.b.div(Kn||(Kn=Object(C.a)(["\n  position: relative;\n\n  width: 210px;\n  height: 500px;\n\n  background: white;\n\n  & > .cdp {\n    position: absolute;\n    top: 125px;\n    left: calc(50% - 70px);\n  }\n"]))),re=function(n){return Object(A.jsxs)(ne,{children:[Object(A.jsx)(ee,{}),Object(A.jsx)(te,{children:Object(A.jsx)(K,{changeSearchState:n.changeSearchState,item:n.item,refCD:n.refCD})}),Object(A.jsx)($n,{onSearch:n.onSearch,changeSearchState:n.changeSearchState,selectPlayItem:n.selectPlayItem})]})};var ae=wn((function(n){var e=n.play,t=n.player,r=n.injectPlayer,a=Object(y.useState)(!1),c=Object(S.a)(a,2),i=c[0],o=c[1],s=Object(y.useState)(null),l=Object(S.a)(s,2),b=l[0],d=l[1],p=Object(y.useRef)(null);Object(y.useEffect)((function(){window.onSpotifyWebPlaybackSDKReady=function(){var n="".concat("BQAXTYARglEldRSiFaYQX3hX1w0cKrGXVH_lCIWoBARAERJTCtJ2-mLbBJVIcXfVYAJRy4tM-jHTQiLIFnDSu-nipjtLZICHsWsMgS7r1k8C3bG421J3nyZ0NKUlMWrAtWAf2W4WN65k_Jll17tbxPuWmpWMWWRWdVfH8Bzx_HQv8xlpe5p7wnxct_kJxw"),e=new window.Spotify.Player({name:"Web Playback SDK Quick Start Player",getOAuthToken:function(e){e(n)}});e.addListener("player_state_changed",(function(n){console.log(n),p.current&&(n.paused?(p.current.classList.remove("play"),d(null)):p.current.classList.add("play"))})),e.addListener("ready",(function(n){var t=n.device_id;console.log("Ready with Device ID",t),e.device_id=t,r(e)})),e.connect()}}),[r]);var u=Object(y.useCallback)((function(n){o(n)}),[]),j=Object(y.useCallback)((function(n){o(!1),d(n),e({spotify_uri:n.uri,device_id:t.device_id})}),[e,t]);return Object(A.jsx)(re,{onSearch:i,changeSearchState:u,item:b,selectPlayItem:j,refCD:p})}));var ce,ie,oe=function(){return Object(A.jsx)(ae,{})},se=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,94)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),r(n),a(n),c(n),i(n)}))},le=t(16),be=t(11),de=t(92),pe=t(23),ue=Object(de.a)((ce={},Object(be.a)(ce,on,(function(n,e){return Object(pe.a)(n,(function(n){n.player=e.payload}))})),Object(be.a)(ce,xn,(function(n,e){return Object(pe.a)(n,(function(n){var t;n.tracks=Object($.a)(Object($.a)({},e.payload.tracks),{},{items:null===(t=n.tracks)||void 0===t?void 0:t.items.concat(e.payload.tracks.items)})}))})),Object(be.a)(ce,dn,(function(n,e){return Object(pe.a)(n,(function(n){n.tracks=e.payload.tracks}))})),Object(be.a)(ce,pn,(function(n){return Object(pe.a)(n,(function(n){n.tracks=null}))})),ce),{tracks:null,player:null}),je="loading/start",fe="loading/finish",xe=Object(de.a)((ie={},Object(be.a)(ie,je,(function(n,e){return Object($.a)(Object($.a)({},n),{},Object(be.a)({},e.payload,!0))})),Object(be.a)(ie,fe,(function(n,e){return Object($.a)(Object($.a)({},n),{},Object(be.a)({},e.payload,!1))})),ie),{}),he=Object(le.combineReducers)({SpotifyReducer:ue,LoadingReducer:xe}),Oe=t(48),ge=t(50),me=t(15),ve=t.n(me),ye=t(12),ke=Object(en.a)(je,(function(n){return n})),we=Object(en.a)(fe,(function(n){return n}));function Se(n,e){var t="".concat(n,"/success"),r="".concat(n,"/failure");return ve.a.mark((function a(c){var i;return ve.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ye.c)(ke(n));case 2:return a.prev=2,a.next=5,Object(ye.b)(e,c.payload);case 5:return i=a.sent,a.next=8,Object(ye.c)({type:t,payload:i.data});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(ye.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(ye.c)(we(n));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var Ce=t(49),Re=t.n(Ce).a.create();Re.defaults.baseURL="https://api.spotify.com",Re.defaults.headers.Authorization="Bearer ".concat("BQAXTYARglEldRSiFaYQX3hX1w0cKrGXVH_lCIWoBARAERJTCtJ2-mLbBJVIcXfVYAJRy4tM-jHTQiLIFnDSu-nipjtLZICHsWsMgS7r1k8C3bG421J3nyZ0NKUlMWrAtWAf2W4WN65k_Jll17tbxPuWmpWMWWRWdVfH8Bzx_HQv8xlpe5p7wnxct_kJxw");var We=Re,_e=function(n){var e=n.q,t=n.offset,r=void 0===t?1:t;return We.get("/v1/search?".concat(En.a.stringify({query:e,type:"track",market:"KR",limit:10,offset:r})))},Ie=ve.a.mark(ze),Le=Se(bn,_e),Ae=Se(fn,_e),Te=Se(gn,(function(n){var e=n.spotify_uri,t=n.device_id;return We.put("/v1/me/player/play?".concat(En.a.stringify({device_id:t})),{uris:[e]},{headers:{"Content-Type":"application/json"}})}));function ze(){return ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ye.d)(bn,Le);case 2:return n.next=4,Object(ye.d)(gn,Te);case 4:return n.next=6,Object(ye.d)(fn,Ae);case 6:case"end":return n.stop()}}),Ie)}var Pe=ve.a.mark(Je);function Je(){return ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ye.a)([ze()]);case 2:case"end":return n.stop()}}),Pe)}var Xe=Object(ge.a)(),Ze=Object(le.createStore)(he,Object(Oe.composeWithDevTools)(Object(le.applyMiddleware)(Xe)));Xe.run(Je),w.a.render(Object(A.jsx)(nn.a,{store:Ze,children:Object(A.jsx)(oe,{})}),document.getElementById("root")),se()}},[[91,1,2]]]);
//# sourceMappingURL=main.b63f8ac1.chunk.js.map