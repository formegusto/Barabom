{"version":3,"sources":["api/client.ts","api/musixmatch.ts","atoms/Splash.tsx","assets/icon/Spotify_icon.png","lib/animations/CDanimations.ts","lib/musicutils.ts","assets/logo/Spotify_Logo_RGB_White.png","arts/CDPlayer.tsx","assets/logo/Spotify_Logo_RGB_Black.png","lib/createActions.ts","stores/spotify/types.ts","stores/spotify/actions.ts","stores/spotify/connector.ts","atoms/TextInput.tsx","lib/timeutils.ts","atoms/ListItem.tsx","atoms/Spinner.tsx","atoms/TrackList.tsx","atoms/SearchForm.tsx","atoms/Lyrics.tsx","components/BarabomMainComponent.tsx","containers/BarabomMainContainer.tsx","api/musicbrainz.ts","pages/BarabomPage.tsx","components/CallbackComponent.tsx","containers/CallbackContainer.tsx","api/user.ts","pages/CallbackPage.tsx","pages/NotFound.tsx","App.tsx","reportWebVitals.ts","stores/spotify/index.ts","stores/loading/types.ts","stores/loading/index.ts","stores/user/types.ts","stores/user/index.ts","stores/index.ts","stores/loading/actions.ts","lib/careteRequestSaga.ts","api/spotify.ts","stores/spotify/saga.ts","stores/user/saga.ts","stores/saga.ts","stores/user/actions.ts","styles/theme.ts","index.tsx"],"names":["client","axios","create","music","ms","apikey","process","getLyrics","q_artist","q_track","matcherLyrics","SplashBlock","styled","div","BallAni","keyframes","SayHi","Title","h1","props","hiAni","css","Splash","useState","setHiAni","refBall","useRef","refText","refScreen","useEffect","current","addEventListener","setTimeout","console","log","style","transform","okaySplash","ref","className","SpinAni","TitleAni","musicutils","getMusicAritst","item","artists","name","Notify","h6","AuthButton","LoginNotifyBlock","TrackTitleBlock","TrackTitle","AlbumArt","img","CDPStickLeft","CDPStickFront","CDPStick","CDPStage","CDPBlock","CDPTop","CDPBottom","CDPin","CD","CDShadow","CDTable","CDPFront","CDPBack","CDPlayer","useSelector","UserReducer","user","onClick","changeSearchState","refCD","src","album","images","url","Spotify","alt","href","Spotify_Logo","createActions","action","INJECT_PLAYER","GET_TRACKS","GET_TRACKS_SUCCESS","GET_TRACKS_FAILURE","GET_TRACKS_APPEND","GET_TRACKS_APPEND_SUCCESS","PLAY","injectPlayer","createAction","player","getTracks","q","appendTracks","params","play","SpotifyConnector","connect","SpotifyReducer","LoadingReducer","loading","SpotifyActions","Input","input","block","TextInput","timeutils","msToString","parseInt","hour","Math","floor","minute","ListBlock","ListItem","selectPlayItem","duration_ms","ani","SpinnerDiv","color","Spinner","TrackListBlock","LoadingBlock","TrackList","items","refList","map","idx","SearchBlock","isOn","InputBlock","SearchHeader","onSearch","tracks","query","setQuery","queryThrottle","debounce","scrollTo","top","onChange","useCallback","value","target","onClose","nextQuery","this","scrollTop","scrollHeight","offsetHeight","next","nextObj","qs","parse","split","offset","debounceNextQuery","injectEventListener","removeEventListener","placeholder","LyricsWrap","LyricsBlock","Lyrics","lyrics","dangerouslySetInnerHTML","__html","MobileNotSupported","TitleBlock","Copyright","BarabomTtitle","BarabomWrap","BarabomBlock","CDPZone","BarabomMainComponent","setOnSearch","playItem","setPlayItem","loadingLyr","setLoadingLyr","setLyrics","splashOkay","setSplayOkay","window","onSpotifyWebPlaybackSDKReady","token","localStorage","getItem","Player","getOAuthToken","cb","addListener","state","JSON","stringify","paused","classList","remove","add","device_id","on","message","error","script","document","createElement","async","body","appendChild","changeLoading","a","check","length","alias","get","response","data","aliases","aliase","hasOwnProperty","lyrics_body","replaceAll","spotify_uri","uri","BarabomPage","CallbackScreen","CallbackComponent","CallbackContainer","account_url","getUser","headers","Authorization","getToken","code","post","grant_type","redirect_uri","auth","username","password","CallbackPage","location","search","ignoreQueryPrefix","res","access_token","refresh_token","setItem","NotFound","pathname","App","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","handleActions","produce","draft","payload","concat","START_LOADING","FINISH_LOADING","GET_USER","GET_USER_SUCCESS","GET_USER_FAILURE","RootReducer","combineReducers","startLoading","type","finishLoading","createRequestSaga","request","SUCCESS","FAILURE","put","call","market","limit","SpotifySaga","getTrackSaga","api","appendTrackSaga","uris","takeLatest","getUserSaga","UserSage","userApi","Error","client_id","removeItem","RootSaga","all","deviceSizes","theme","device","mobile","tablet","laptop","mobileHeight","tabletHeight","sagaMW","createSaga","store","createStore","composeWithDevTools","applyMiddleware","run","dispatch","loadUser","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.728a3f9d.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst client = axios.create();\n\nexport default client;\n","import ms from 'musixmatch';\n\nconst key = process.env.REACT_APP_MUSIXMATCH_KEY;\n\nconst music = ms({ apikey: key });\n\nconst getLyrics = (q_artist: string, q_track: string) =>\n  music.matcherLyrics({ q_artist, q_track });\n\nexport { getLyrics };\n","import { useEffect, useRef, useState } from 'react';\nimport styled, { css, keyframes } from 'styled-components';\n\ntype Props = {\n  okaySplash: () => void;\n};\n\nfunction Splash(props: Props) {\n  const [hiAni, setHiAni] = useState<boolean>(false);\n  const refBall = useRef<HTMLDivElement>(null);\n  const refText = useRef<HTMLEmbedElement>(null);\n  const refScreen = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    refBall.current?.addEventListener('animationend', () => {\n      setTimeout(() => setHiAni(true), 300);\n    });\n\n    refText.current?.addEventListener('animationend', () => {\n      console.log('refText animation end');\n      if (refScreen.current) {\n        refScreen.current.style.transform = 'translateY(100vh)';\n        props.okaySplash();\n      }\n    });\n  }, [props]);\n\n  return (\n    <SplashBlock ref={refScreen}>\n      <Title hiAni={hiAni}>\n        <em className=\"hi\" ref={refText}>\n          f\n        </em>\n        <em className=\"first\" ref={refBall}>\n          o\n        </em>\n        rmegust<em className=\"second\">o</em>’s <em className=\"hi\">T</em>\n        <em className=\"third\">O</em>Y <em className=\"hi\">B</em>\n        <em className=\"fourth\">O</em>X\n      </Title>\n    </SplashBlock>\n  );\n}\n\nconst SplashBlock = styled.div`\n  z-index: 255;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  width: 100vw;\n  height: 100vh;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: #fff;\n\n  padding: 3rem;\n  box-sizing: border-box;\n\n  overflow-x: hidden;\n\n  transition: 0.7s;\n`;\n\nconst BallAni = keyframes`\n    50% {\n      transform: translateY(-30px) scale(0.5);\n    } 90% {\n      transform: translateY(0) scale(0.5);  \n    } 100% {\n        transform: translateY(0) scale(1);  \n    }\n`;\n\nconst SayHi = keyframes`\n    from {\n        transform: rotateZ(0);\n    } to {\n        transform: rotateZ(-20deg);\n    }\n`;\n\nconst Title = styled.h1<{ hiAni: boolean }>`\n  font-style: normal;\n  font-weight: 300;\n  font-size: 32px;\n  line-height: 40px;\n  letter-spacing: 0.2em;\n  text-transform: uppercase;\n\n  & > em {\n    display: inline-block;\n  }\n\n  & > em.hi {\n    transform-origin: 50% 100%;\n  }\n\n  & > em:not(.hi) {\n    animation: ${BallAni} 3s forwards;\n  }\n\n  & > .first {\n    transform: translateY(-30px) translateX(-100px) scale(0.5);\n  }\n\n  & > .second {\n    transform: translateY(-30px) translateX(600px) scale(0.5);\n  }\n\n  & > .third {\n    transform: translateY(-30px) translateX(-800px) scale(0.5);\n  }\n\n  & > .fourth {\n    transform: translateY(-30px) translateX(100px) scale(0.5);\n  }\n\n  ${(props) =>\n    props.hiAni &&\n    css`\n      & > .hi {\n        animation: ${SayHi} 0.7s 4 linear alternate forwards;\n      }\n    `}\n`;\n\nexport default Splash;\n","export default __webpack_public_path__ + \"static/media/Spotify_icon.0e932c0a.png\";","import { keyframes } from 'styled-components';\n\nexport const SpinAni = keyframes`\n    from {\n        transform: rotateZ(0deg) translateZ(3px);\n    } to {\n        transform: rotateZ(720deg) translateZ(3px);\n    }\n`;\n\nexport const TitleAni = keyframes`\n    from {\n        transform: translateX(300%);\n    } to {\n        transform: translateX(-200%);\n    }\n`;\n","import { Item } from '../types/track';\n\nconst musicutils = {\n  getMusicAritst(item: Item) {\n    return `${item.artists[0].name} - ${item.name}`;\n  },\n};\n\nexport default musicutils;\n","export default __webpack_public_path__ + \"static/media/Spotify_Logo_RGB_White.f48fb565.png\";","import { Ref } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport Spotify from '../assets/icon/Spotify_icon.png';\nimport { SpinAni, TitleAni } from '../lib/animations/CDanimations';\nimport musicutils from '../lib/musicutils';\nimport { RootStore } from '../stores';\nimport { userStore } from '../stores/user';\nimport { Item } from '../types/track';\nimport Spotify_Logo from '../assets/logo/Spotify_Logo_RGB_White.png';\n// import SpotifyWebPlayer from 'react-spotify-web-playback/lib';\n\nexport type Props = {\n  changeSearchState: (state: boolean) => void;\n  item: Item | null;\n  refCD: Ref<HTMLDivElement>;\n};\n\nfunction CDPlayer(props: Props) {\n  const { user } = useSelector<RootStore, typeof userStore>(\n    ({ UserReducer }) => UserReducer,\n  );\n\n  return user ? (\n    <CDPStage className=\"cdp\">\n      {/* <SpotifyWebPlayer\n        token={process.env.REACT_APP_SPOTIFY_KEY!}\n        autoPlay\n        uris={['spotify:artist:6HQYnRM4OzToCYPpVBInuU']}\n        play\n      /> */}\n      <CDPBlock>\n        {props.item && (\n          <TrackTitleBlock>\n            <TrackTitle>{musicutils.getMusicAritst(props.item)}</TrackTitle>\n          </TrackTitleBlock>\n        )}\n\n        <CDPTop className=\"realtop\" />\n        <CDPFront className=\"top\">\n          <CDTable onClick={() => props.changeSearchState(true)}>\n            <CDPin />\n            <CD ref={props.refCD}>\n              <AlbumArt\n                src={props.item ? props.item.album.images[0].url : Spotify}\n                alt=\"AlbumArt\"\n              />\n            </CD>\n            <CDShadow />\n          </CDTable>\n        </CDPFront>\n        <CDPBack className=\"top\" />\n        <CDPBottom className=\"bottom\">\n          <CDPStick>\n            <CDPStickFront />\n            <CDPStickLeft />\n          </CDPStick>\n        </CDPBottom>\n      </CDPBlock>\n    </CDPStage>\n  ) : (\n    <LoginNotifyBlock>\n      <a\n        href={\n          process.env.NODE_ENV === 'production'\n            ? process.env.REACT_APP_SPOTIFY_AUTH_PRODUCTION!\n            : process.env.REACT_APP_SPOTIFY_AUTH!\n        }\n      >\n        <AuthButton>\n          <img src={Spotify_Logo} alt=\"logo\" />\n        </AuthButton>\n      </a>\n      <Notify>Please Spotify Login</Notify>\n    </LoginNotifyBlock>\n  );\n}\n\nconst Notify = styled.h6`\n  margin: 6px 0 0;\n  font-size: 12px;\n\n  color: #999;\n`;\nconst AuthButton = styled.div`\n  & > img {\n    display: block;\n\n    width: 150px;\n    height: 44.96px;\n    background-color: black;\n    padding: 8px;\n    border-radius: 2rem;\n\n    cursor: pointer;\n  }\n\n  &:hover {\n    & > img {\n      background-color: #666;\n    }\n  }\n`;\n\nconst LoginNotifyBlock = styled.div`\n  position: relative;\n  z-index: 13;\n\n  display: flex;\n  flex-direction: column;\n\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n`;\n\nconst TrackTitleBlock = styled.div`\n  position: absolute;\n  top: 0;\n  left: calc(50% - 40px);\n  width: 80px;\n  overflow-x: hidden;\n\n  transform: translateY(-15px);\n\n  transform-style: preserve-3d;\n`;\n\nconst TrackTitle = styled.h1`\n  font-size: 10px;\n  animation: ${TitleAni} 10.5s infinite linear;\n  text-align: end;\n\n  white-space: nowrap;\n`;\n\nconst AlbumArt = styled.img`\n  width: 100%;\n  height: 100%;\n\n  object-fit: cover;\n`;\n\nconst CDPStickLeft = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 10px;\n  width: 1000px;\n\n  border: 1px solid #999;\n  transform: rotateY(-90deg);\n  transform-origin: 0% 50%;\n\n  background: #999;\n`;\n\nconst CDPStickFront = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 1000px;\n  width: 10px;\n\n  border: 1px solid #999;\n\n  transform: rotateX(90deg);\n  transform-origin: 50% 0%;\n\n  background: #ccc;\n`;\n\nconst CDPStick = styled.div`\n  position: relative;\n\n  width: 10px;\n  height: 10px;\n\n  transform-style: preserve-3d;\n`;\n\nconst CDPStage = styled.div`\n  position: relative;\n  z-index: 13;\n  perspective: 1000px;\n`;\n\nconst CDPBlock = styled.div`\n  position: relative;\n\n  width: 100px;\n  height: 100px;\n\n  & div {\n    box-sizing: border-box;\n  }\n\n  & > div {\n    position: absolute;\n  }\n\n  & > .top {\n    top: 0;\n    left: 0;\n  }\n\n  & > .realtop {\n    top: 0;\n    right: calc(50% - 45px);\n  }\n\n  & > .bottom {\n    bottom: 0;\n    right: calc(50% - 45px);\n  }\n  transform: rotateY(20deg);\n\n  transform-style: preserve-3d;\n`;\n\nconst CDPTop = styled.div`\n  width: 90px;\n  height: 30px;\n\n  transform-origin: 50% 50%;\n  transform: rotateX(-90deg) translateZ(-15px);\n\n  background-color: #333;\n`;\n\nconst CDPBottom = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 30px;\n\n  transform-origin: 50% 50%;\n  transform: rotateX(-90deg) translateZ(15px);\n\n  background-color: #333;\n\n  transform-style: preserve-3d;\n`;\n\nconst CDPin = styled.div`\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n\n  width: 10px;\n  height: 10px;\n\n  background-color: black;\n  border-radius: 100%;\n  box-sizing: border-box;\n\n  transform: translateZ(5px);\n`;\n\nconst CD = styled.div`\n  top: calc(50% - 37.5px);\n  left: calc(50% - 37.5px);\n\n  width: 75px;\n  height: 75px;\n\n  border: 1px solid black;\n  border-radius: 100%;\n\n  transform: translateZ(3px);\n\n  background: white;\n\n  overflow: hidden;\n\n  &.play {\n    animation: ${SpinAni} 1.5s infinite linear;\n  }\n`;\n\nconst CDShadow = styled.div`\n  top: calc(50% - 37.5px);\n  left: calc(50% - 37.5px);\n\n  width: 75px;\n  height: 75px;\n\n  border: 1px solid black;\n  border-radius: 100%;\n\n  background: black;\n`;\n\nconst CDTable = styled.div`\n  cursor: pointer;\n  position: relative;\n\n  width: 80px;\n  height: 80px;\n\n  border: 1px solid black;\n  border-radius: 100%;\n\n  transform-style: preserve-3d;\n  background: radial-gradient(circle at 100%, #fff 75%, #333 100%);\n\n  & > div {\n    position: absolute;\n  }\n`;\n\nconst CDPFront = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n\n  border: 1px solid black;\n  border-radius: 0.5rem;\n  background-color: white;\n\n  transform: translateZ(15px);\n\n  transform-style: preserve-3d;\n`;\n\nconst CDPBack = styled.div`\n  width: 100%;\n  height: 100%;\n\n  border: 1px solid #333;\n  border-radius: 0.5rem;\n\n  transform: translateZ(-15px);\n\n  background: #333;\n`;\n\nexport default CDPlayer;\n","export default __webpack_public_path__ + \"static/media/Spotify_Logo_RGB_Black.0d1e5545.png\";","export default function createActions(action: string): string[] {\n  return [`${action}`, `${action}/success`, `${action}/failure`];\n}\n","import createActions from '../../lib/createActions';\n\nexport const [INJECT_PLAYER] = createActions('spotify/inject_player');\nexport const [GET_TRACKS, GET_TRACKS_SUCCESS, GET_TRACKS_FAILURE] =\n  createActions('spotify/gettracks');\nexport const [\n  GET_TRACKS_APPEND,\n  GET_TRACKS_APPEND_SUCCESS,\n  GET_TRACKS_APPEND_FAILURE,\n] = createActions('spotify/gettracks/append');\nexport const [PLAY, PLAY_SUCCESS, PLAY_FAILURE] = createActions('spotify/play');\n","import { createAction } from 'redux-actions';\nimport { GET_TRACKS, GET_TRACKS_APPEND, INJECT_PLAYER, PLAY } from './types';\n\nexport const injectPlayer = createAction<any, any>(\n  INJECT_PLAYER,\n  (player: any) => player,\n);\n\nexport const getTracks = createAction<{ q: string }, string>(\n  GET_TRACKS,\n  (q: string) => ({\n    q,\n  }),\n);\n\nexport const appendTracks = createAction<\n  { q: string; offset: number },\n  { q: string; offset: number }\n>(GET_TRACKS_APPEND, ({ ...params }) => ({ ...params }));\n\nexport const play = createAction<any, any>(\n  PLAY,\n  ({ ...params }: any) => params,\n);\n","import { connect } from 'react-redux';\nimport { RootStore } from '..';\nimport * as SpotifyActions from './actions';\n\nconst mapState = ({\n  SpotifyReducer,\n  LoadingReducer,\n  UserReducer,\n}: RootStore) => ({\n  ...SpotifyReducer,\n  ...UserReducer,\n  loading: LoadingReducer,\n});\n\nconst SpotifyConnector = connect(mapState, SpotifyActions);\nexport default SpotifyConnector;\n","import React from 'react';\nimport styled, { css } from 'styled-components';\n\ninterface Props\n  extends React.StyleHTMLAttributes<HTMLInputElement>,\n    StyleProps {}\n\nfunction TextInput(props: Props) {\n  return <Input {...props} />;\n}\n\ntype StyleProps = {\n  block?: boolean;\n  value?: string;\n};\n\nconst Input = styled.input<StyleProps>`\n  ${(props) =>\n    props.block &&\n    css`\n      width: 100%;\n      display: block;\n    `}\n\n  font-size: 1.75rem;\n  padding: 0.75rem 1rem;\n\n  color: #666;\n  box-sizing: border-box;\n  border-radius: 2rem;\n  border: none;\n  outline: none;\n\n  box-shadow: 2px 2px 10px #ccc;\n\n  &::placeholder {\n    color: #eee;\n  }\n`;\n\nexport default TextInput;\n","const timeutils = {\n  msToString(ms: string | number) {\n    if (typeof ms === 'string') ms = parseInt(ms);\n\n    let hour = Math.floor(ms / 1000 / 60);\n    let minute: string | number = Math.floor((ms / 1000) % 60);\n\n    if (minute < 10) minute = '0' + minute;\n\n    return `${hour}:${minute}`;\n  },\n};\n\nexport default timeutils;\n","import styled from 'styled-components';\nimport 'holderjs';\nimport { Item } from '../types/track';\nimport timeutils from '../lib/timeutils';\n\ntype Props = {\n  item: Item;\n  selectPlayItem: (item: Item) => void;\n};\n\nfunction ListItem({ item, selectPlayItem }: Props) {\n  return (\n    <ListBlock onClick={() => selectPlayItem(item)}>\n      <div className=\"albumart-block\">\n        <img\n          className=\"albumart\"\n          src={item.album.images[0].url}\n          alt=\"albumarts\"\n        ></img>\n        <div className=\"shadow\" />\n      </div>\n      <span></span>\n      <span className=\"track\">\n        <h1 className=\"title\">{item.name}</h1>\n        <h5 className=\"artist\">{item.artists[0].name}</h5>\n      </span>\n      <span className=\"duration\">{timeutils.msToString(item.duration_ms)}</span>\n    </ListBlock>\n  );\n}\n\nconst ListBlock = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n\n  padding: 0.75rem 0;\n  cursor: pointer;\n\n  & > .albumart-block {\n    position: relative;\n  }\n\n  & > .albumart-block > .shadow {\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 72px;\n    height: 72px;\n\n    background-color: rgba(33, 33, 33, 0.1);\n  }\n\n  & img {\n    width: 72px;\n    height: 72px;\n    margin: 0 1rem 0 0;\n    object-fit: cover;\n  }\n\n  & > .track {\n    flex: 1;\n\n    & > .title {\n      font-size: 16px;\n      font-weight: 400;\n      letter-spacing: normal;\n      line-height: 24px;\n      text-transform: none;\n\n      color: #333;\n    }\n\n    & > .artist {\n      font-size: 14px;\n      font-weight: 400;\n      letter-spacing: normal;\n      line-height: 16px;\n      text-transform: none;\n\n      color: #555;\n    }\n  }\n\n  & > .duration {\n    font-size: 14px;\n    font-weight: 400;\n    letter-spacing: normal;\n    line-height: 16px;\n    text-transform: none;\n\n    color: #777;\n  }\n`;\n\nexport default ListItem;\n","import styled, { keyframes } from 'styled-components';\n\ntype Props = {\n  color?: string;\n};\n\nfunction Spinner(props: Props) {\n  return <SpinnerDiv {...props} />;\n}\n\nconst ani = keyframes`\n    from {\n        transform: rotateZ(0deg);\n    } to {\n        transform: rotateZ(360deg);\n    }\n`;\n\nconst SpinnerDiv = styled.div<Props>`\n  margin: 0 auto;\n  width: 30px;\n  height: 30px;\n\n  border: 5px solid transparent;\n  border-top: 5px solid ${(props) => (props.color ? props.color : '#333')};\n\n  border-radius: 100%;\n  animation: ${ani} 1s infinite linear;\n`;\n\nexport default Spinner;\n","import { Ref } from 'react';\nimport styled from 'styled-components';\nimport { Item } from '../types/track';\nimport ListItem from './ListItem';\nimport Spinner from './Spinner';\n\ntype Props = {\n  items?: Item[];\n  selectPlayItem: (item: Item) => void;\n  loading?: boolean;\n  refList: Ref<HTMLDivElement>;\n};\n\nfunction TrackList({ items, selectPlayItem, loading, refList }: Props) {\n  return (\n    <TrackListBlock ref={refList}>\n      {items?.map((item, idx) => (\n        <ListItem key={idx} item={item} selectPlayItem={selectPlayItem} />\n      ))}\n      {loading && (\n        <LoadingBlock>\n          <Spinner />\n        </LoadingBlock>\n      )}\n    </TrackListBlock>\n  );\n}\n\nconst TrackListBlock = styled.div`\n  flex: 1;\n\n  box-sizing: border-box;\n  padding: 0 1.75rem;\n\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    display: none; /* Chrome, Safari, Opera*/\n  }\n`;\n\nconst LoadingBlock = styled.div`\n  display: flex;\n\n  align-items: center;\n  justify-content: center;\n\n  padding: 0.75rem 0;\n  box-sizing: border-box;\n`;\n\nexport default TrackList;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { ConnectedProps } from 'react-redux';\nimport styled, { css } from 'styled-components';\nimport { debounce } from 'underscore';\nimport Spotify_Logo from '../assets/logo/Spotify_Logo_RGB_Black.png';\nimport SpotifyConnector from '../stores/spotify/connector';\nimport { GET_TRACKS, GET_TRACKS_APPEND } from '../stores/spotify/types';\nimport { Item } from '../types/track';\nimport TextInput from './TextInput';\nimport TrackList from './TrackList';\nimport qs from 'qs';\n\nexport type Props = {\n  onSearch: boolean;\n  changeSearchState: (state: boolean) => void;\n  selectPlayItem: (item: Item) => void;\n};\n\nfunction SearchForm({\n  onSearch,\n  changeSearchState,\n  getTracks,\n  appendTracks,\n  tracks,\n  selectPlayItem,\n  loading,\n}: Props & ConnectedProps<typeof SpotifyConnector>) {\n  const [query, setQuery] = useState<string>('');\n  const refList = useRef<HTMLDivElement>(null);\n\n  const queryThrottle = useRef(\n    debounce((q: string) => {\n      if (q !== '') {\n        console.log(`${q}로 지금요청`);\n        getTracks(q);\n        if (refList.current)\n          refList.current.scrollTo({\n            top: 0,\n          });\n      } else {\n        console.log('요청 안합니다.');\n      }\n    }, 1000),\n  );\n\n  const onChange = useCallback(\n    ({ target: { value } }: React.ChangeEvent<HTMLInputElement>) => {\n      setQuery(value);\n      queryThrottle.current(value);\n    },\n    [],\n  );\n\n  const onClose = useCallback(() => {\n    setQuery('');\n    changeSearchState(false);\n  }, [changeSearchState]);\n\n  const nextQuery = useCallback(\n    function (this: HTMLDivElement) {\n      /*\n      console.log('offset', this.offsetHeight);\n      console.log('scroll', this.scrollHeight);\n      console.log('client', this.clientHeight);\n      console.log('top', this.scrollTop);\n      */\n      if (this.scrollTop >= this.scrollHeight - this.offsetHeight - 80) {\n        console.log('next Query', tracks);\n        if (tracks?.next) {\n          if (!(loading[GET_TRACKS] || loading[GET_TRACKS_APPEND])) {\n            const nextObj = qs.parse(tracks.next.split('?')[1]) as any;\n            appendTracks({\n              q: nextObj.query,\n              offset: nextObj.offset,\n            });\n          }\n        }\n      }\n    },\n    [tracks, appendTracks, loading],\n  );\n\n  const debounceNextQuery = useRef(debounce(nextQuery, 300));\n\n  const injectEventListener = useCallback(() => {\n    if (refList.current)\n      refList.current.removeEventListener('scroll', debounceNextQuery.current);\n    if (refList.current) {\n      debounceNextQuery.current = debounce(nextQuery, 300);\n      refList.current.addEventListener('scroll', debounceNextQuery.current);\n    }\n  }, [nextQuery]);\n\n  useEffect(() => {\n    injectEventListener();\n  }, [injectEventListener]);\n\n  return (\n    <SearchBlock isOn={onSearch}>\n      <SearchHeader>\n        <img src={Spotify_Logo} alt=\"Spotify Logo\" />\n        <span onClick={onClose}>X</span>\n      </SearchHeader>\n      <InputBlock>\n        <TextInput\n          value={query}\n          onChange={onChange}\n          placeholder=\"Barabom Only Beauty\"\n          block\n        />\n      </InputBlock>\n      <TrackList\n        items={tracks?.items}\n        selectPlayItem={selectPlayItem}\n        loading={loading[GET_TRACKS] || loading[GET_TRACKS_APPEND]}\n        refList={refList}\n      />\n    </SearchBlock>\n  );\n}\n\nconst SearchBlock = styled.div<{ isOn: boolean }>`\n  display: flex;\n  flex-flow: column;\n\n  position: absolute;\n  bottom: 0;\n  left: calc(50% - 235px);\n\n  z-index: 255;\n\n  width: 470px;\n  height: 470px;\n  border-radius: 1rem 1rem 0 0;\n\n  background: white;\n  transform: translateY(500px);\n  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.25);\n  transition: cubic-bezier(0.24, 0.65, 0.38, 0.88) 0.7s;\n\n  ${(props) =>\n    props.isOn &&\n    css`\n      transform: translateY(10px);\n    `}\n`;\n\nconst InputBlock = styled.div`\n  width: 100%;\n\n  padding: 0 1.25rem;\n  box-sizing: border-box;\n`;\n\nconst SearchHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  width: 100%;\n\n  padding: 1rem 1.25rem;\n  box-sizing: border-box;\n\n  & > img {\n    width: 200px;\n    height: 59.95px;\n  }\n\n  & > span {\n    cursor: pointer;\n\n    font-style: normal;\n    font-weight: 300;\n    font-size: 24px;\n    line-height: 29px;\n    text-transform: uppercase;\n\n    color: #666;\n\n    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.25);\n  }\n\n  & > span:hover {\n    color: #333;\n  }\n`;\n\nexport default SpotifyConnector(SearchForm);\n","import styled from 'styled-components';\nimport Spinner from './Spinner';\n\ntype Props = {\n  lyrics: any;\n  loading: boolean;\n};\n\nfunction Lyrics(props: Props) {\n  return (\n    <LyricsWrap>\n      {props.loading ? (\n        <Spinner />\n      ) : (\n        props.lyrics !== '' && (\n          <LyricsBlock dangerouslySetInnerHTML={{ __html: props.lyrics }} />\n        )\n      )}\n    </LyricsWrap>\n  );\n}\n\nconst LyricsWrap = styled.div`\n  position: absolute;\n  bottom: 150px;\n\n  z-index: 13;\n\n  flex: 1;\n\n  width: 240px;\n  height: 100px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst LyricsBlock = styled.div`\n  padding: 0.5rem 0;\n\n  box-sizing: border-box;\n\n  text-align: center;\n\n  font-size: 12px;\n  line-height: 16px;\n  color: #333;\n\n  width: 100%;\n  height: 100%;\n\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome, Safari, Opera*/\n  }\n`;\n\nexport default Lyrics;\n","import styled from 'styled-components';\nimport CDPlayer from '../arts/CDPlayer';\nimport SearchForm from '../atoms/SearchForm';\nimport { Props as SearchProps } from '../atoms/SearchForm';\nimport { Props as CDPlayProps } from '../arts/CDPlayer';\nimport Lyrics from '../atoms/Lyrics';\nimport { MobileView } from 'react-device-detect';\n\ntype Props = SearchProps &\n  CDPlayProps & {\n    lyrics: string;\n    splashOkay: boolean;\n    loading: boolean;\n  };\n\nfunction BarabomMainComponent(props: Props) {\n  return (\n    <BarabomWrap>\n      <TitleBlock>\n        <BarabomTtitle>Barabom</BarabomTtitle>\n        <Copyright>copyright © iamformegusto</Copyright>\n        <MobileView>\n          <MobileNotSupported>Mobile not supported</MobileNotSupported>\n        </MobileView>\n      </TitleBlock>\n      <BarabomBlock>\n        <CDPZone>\n          <CDPlayer\n            changeSearchState={props.changeSearchState}\n            item={props.item}\n            refCD={props.refCD}\n          />\n        </CDPZone>\n        <SearchForm\n          onSearch={props.onSearch}\n          changeSearchState={props.changeSearchState}\n          selectPlayItem={props.selectPlayItem}\n        />\n        <Lyrics loading={props.loading} lyrics={props.lyrics} />\n      </BarabomBlock>\n    </BarabomWrap>\n  );\n}\n\nconst MobileNotSupported = styled.h6`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 8px;\n  line-height: 10px;\n  color: #ccc;\n  margin: 0.25rem 0;\n  /* identical to box height */\n\n  text-transform: lowercase;\n`;\n\nconst TitleBlock = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 1;\n\n  & > * {\n    text-align: right;\n  }\n`;\n\nconst Copyright = styled.h6`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 8px;\n  line-height: 10px;\n  /* identical to box height */\n\n  text-transform: lowercase;\n`;\n\nconst BarabomTtitle = styled.h1`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 48px;\n  line-height: 59px;\n  /* identical to box height */\n\n  text-transform: uppercase;\n\n  color: #000000;\n`;\n\nconst BarabomWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n\n  width: 500px;\n`;\n\nconst BarabomBlock = styled.div`\n  position: relative;\n  display: flex;\n\n  width: 500px;\n  height: 500px;\n\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  overflow: hidden;\n`;\n\nconst CDPZone = styled.div`\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n\n  width: 500px;\n  height: 500px;\n\n  background: white;\n\n  & > .cdp {\n    position: absolute;\n    top: 125px;\n    /* left: calc(50% - 70px); */\n  }\n`;\n\nexport default BarabomMainComponent;\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { ConnectedProps } from 'react-redux';\nimport { getAliases } from '../api/musicbrainz';\nimport { getLyrics } from '../api/musixmatch';\nimport Splash from '../atoms/Splash';\nimport BarabomMainComponent from '../components/BarabomMainComponent';\nimport SpotifyConnector from '../stores/spotify/connector';\nimport { Item } from '../types/track';\n\nfunction BarabomMainContainer({\n  play,\n  player,\n  injectPlayer,\n  user,\n}: ConnectedProps<typeof SpotifyConnector>) {\n  const [onSearch, setOnSearch] = useState<boolean>(false);\n  const [playItem, setPlayItem] = useState<Item | null>(null);\n  const [loadingLyr, setLoadingLyr] = useState<boolean>(false);\n  const [lyrics, setLyrics] = useState<string>('');\n  const refCD = useRef<HTMLDivElement>(null);\n\n  const [splashOkay, setSplayOkay] = useState<boolean>(false);\n\n  const okaySplash = useCallback(() => {\n    setSplayOkay(true);\n  }, []);\n\n  useEffect(() => {\n    if (user) {\n      (window as any).onSpotifyWebPlaybackSDKReady = () => {\n        const token = `${localStorage.getItem('access_token')}`;\n        const player = new (window as any).Spotify.Player({\n          name: 'Web Playback SDK Quick Start Player',\n          getOAuthToken: (cb: any) => {\n            cb(token);\n          },\n        });\n        // Playback status updates\n        player.addListener('player_state_changed', (state: any) => {\n          console.log(JSON.stringify(state));\n          if (refCD.current) {\n            if (state.paused) {\n              refCD.current.classList.remove('play');\n              setPlayItem(null);\n            } else refCD.current.classList.add('play');\n          }\n        });\n\n        // Ready\n        player.addListener('ready', ({ device_id }: any) => {\n          console.log('Ready with Device ID', device_id);\n\n          player.device_id = device_id;\n          injectPlayer(player);\n        });\n\n        player.addListener('not_ready', ({ device_id }: any) => {\n          console.log('Device ID is not ready for playback', device_id);\n        });\n\n        // Connect to the player!\n        player.connect();\n\n        // Error Check\n        player.on('initialization_error', ({ message }: any) => {\n          console.error('Failed to initialize', message);\n        });\n\n        player.on('authentication_error', ({ message }: any) => {\n          console.error('Failed to authenticate', message);\n        });\n\n        player.on('account_error', ({ message }: any) => {\n          console.error('Failed to validate Spotify account', message);\n        });\n\n        player.on('playback_error', ({ message }: any) => {\n          console.error('Failed to perform playback', message);\n        });\n      };\n\n      const script = document.createElement('script');\n      script.src = 'https://sdk.scdn.co/spotify-player.js';\n      script.async = true;\n      document.body.appendChild(script);\n    }\n  }, [injectPlayer, user]);\n\n  const changeSearchState = useCallback((state: boolean) => {\n    setOnSearch(state);\n  }, []);\n\n  const changeLoading = useCallback((state: boolean) => {\n    setLoadingLyr(state);\n  }, []);\n\n  const selectPlayItem = useCallback(\n    async (item: Item) => {\n      setOnSearch(false);\n      setPlayItem(item);\n\n      changeLoading(true);\n\n      try {\n        let check = await getLyrics(item.artists[0].name, item.name);\n        console.log(check);\n        if (check.length === 0) {\n          const response = await getAliases(item.artists[0].name);\n          if (response.data.artists.length !== 0) {\n            console.log(response.data.artists[0].aliases);\n            const { aliases } = response.data.artists[0];\n\n            for (const aliase of aliases) {\n              check = await getLyrics(aliase['sort-name'], item.name);\n              console.log(check);\n              if (check.hasOwnProperty('lyrics')) {\n                setLyrics(check.lyrics.lyrics_body.replaceAll('\\n', '<br/>'));\n                break;\n              }\n            }\n          }\n        } else {\n          setLyrics(check.lyrics.lyrics_body.replaceAll('\\n', '<br/>'));\n        }\n      } catch (e) {\n        console.error(e);\n      }\n\n      changeLoading(false);\n\n      play({ spotify_uri: item.uri, device_id: player.device_id });\n    },\n    [play, player, changeLoading],\n  );\n\n  return (\n    <>\n      <Splash okaySplash={okaySplash} />\n      <BarabomMainComponent\n        onSearch={onSearch}\n        changeSearchState={changeSearchState}\n        item={playItem}\n        selectPlayItem={selectPlayItem}\n        refCD={refCD}\n        lyrics={lyrics}\n        splashOkay={splashOkay}\n        loading={loadingLyr}\n      />\n    </>\n  );\n}\n\nexport default SpotifyConnector(BarabomMainContainer);\n","import { Musicbrainz } from '../types/musicbrainz';\nimport client from './client';\n\nconst url = process.env.REACT_APP_MUSICBRAINZ_URL;\n\nconst getAliases = (alias: string) =>\n  client.get<Musicbrainz>(`${url}/artist?query=alias:${alias}&fmt=json`);\n\nexport { getAliases };\n","// import BarabomContainer from '../containers/BarabomContainer';\nimport BarabomMainContainer from '../containers/BarabomMainContainer';\n\nfunction BarabomPage() {\n  return <BarabomMainContainer />;\n}\n\nexport default BarabomPage;\n","import styled from 'styled-components';\nimport Spinner from '../atoms/Spinner';\n\nfunction CallbackComponent() {\n  return (\n    <CallbackScreen>\n      <Spinner />\n    </CallbackScreen>\n  );\n}\n\nconst CallbackScreen = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  width: 100vw;\n  height: 100vh;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport default CallbackComponent;\n","import CallbackComponent from '../components/CallbackComponent';\n\nfunction CallbackContainer() {\n  return <CallbackComponent />;\n}\n\nexport default CallbackContainer;\n","import client from './client';\nimport qs from 'qs';\n\nconst api_url = process.env.REACT_APP_SPOTIFY_URL;\nconst account_url = process.env.REACT_APP_SPOTIFY_ACCOUNT_URL;\n\nconst getUser = (token: string) =>\n  client.get(`${api_url}/v1/me`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nconst getToken = (code: string) =>\n  client.post(\n    `${account_url}/api/token`,\n    qs.stringify({\n      code: code,\n      grant_type: 'authorization_code',\n      redirect_uri:\n        process.env.NODE_ENV === 'production'\n          ? process.env.REACT_APP_SPOTIFY_CALLBACK_PRODUCTION!\n          : process.env.REACT_APP_SPOTIFY_CALLBACK!,\n      // redirect_uri: process.env.REACT_APP_SPOTIFY_CALLBACK,\n    }),\n    {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      auth: {\n        username: process.env.REACT_APP_SPOTIFY_SECRET_ID!,\n        password: process.env.REACT_APP_SPOTIFY_SECRET_KEY!,\n      },\n    },\n  );\n\nconst refreshToken = (token: string) =>\n  client.post(\n    `${account_url}/api/token`,\n    qs.stringify({\n      grant_type: 'refresh_token',\n      refresh_token: token,\n      client_id: process.env.REACT_APP_SPOTIFY_SECRET_ID,\n    }),\n    {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      auth: {\n        username: process.env.REACT_APP_SPOTIFY_SECRET_ID!,\n        password: process.env.REACT_APP_SPOTIFY_SECRET_KEY!,\n      },\n    },\n  );\n\nexport { getUser, getToken, refreshToken };\n","import CallbackContainer from '../containers/CallbackContainer';\nimport { RouteComponentProps } from 'react-router';\nimport qs from 'qs';\nimport { useEffect } from 'react';\nimport { getToken } from '../api/user';\n\nfunction CallbackPage(props: RouteComponentProps) {\n  useEffect(() => {\n    (async () => {\n      const { code } = qs.parse(props.location.search, {\n        ignoreQueryPrefix: true,\n      });\n      try {\n        const res = await getToken(code as string);\n        console.log(res);\n\n        const { access_token, refresh_token } = res.data;\n        localStorage.setItem('access_token', access_token);\n        localStorage.setItem('refresh_token', refresh_token);\n\n        setTimeout(() => {\n          window.location.href = process.env.PUBLIC_URL;\n        }, 3000);\n      } catch (e) {\n        console.error(e);\n      }\n    })();\n  });\n\n  return <CallbackContainer />;\n}\n\nexport default CallbackPage;\n","import { useEffect } from 'react';\nimport { RouteComponentProps } from 'react-router';\n\nfunction NotFound(props: RouteComponentProps) {\n  console.log();\n  useEffect(() => {\n    const { pathname } = props.location;\n\n    if (pathname === '/%2Fauth')\n      window.location.href = `${\n        process.env.NODE_ENV === 'production'\n          ? process.env.REACT_APP_SPOTIFY_CALLBACK_PRODUCTION!\n          : process.env.REACT_APP_SPOTIFY_CALLBACK!\n      }${window.location.search}`;\n  });\n\n  return <></>;\n}\n\nexport default NotFound;\n","import { Route, Switch } from 'react-router';\nimport BarabomPage from './pages/BarabomPage';\nimport CallbackPage from './pages/CallbackPage';\nimport NotFound from './pages/NotFound';\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={BarabomPage} exact />\n      <Route path=\"/auth\" component={CallbackPage} exact />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { handleActions } from 'redux-actions';\nimport Track, { Tracks } from '../../types/track';\nimport {\n  GET_TRACKS_APPEND_SUCCESS,\n  GET_TRACKS_FAILURE,\n  GET_TRACKS_SUCCESS,\n  INJECT_PLAYER,\n} from './types';\nimport produce from 'immer';\n\nexport type SpotifyStore = {\n  tracks: Tracks | null;\n  player: any;\n};\n\nconst spotifyStore: SpotifyStore = {\n  tracks: null,\n  player: null,\n};\n\ntype Payload = Track | any;\n\nconst SpotifyReducer = handleActions<SpotifyStore, Payload>(\n  {\n    [INJECT_PLAYER]: (state, action) =>\n      produce(state, (draft) => {\n        draft.player = action.payload;\n      }),\n    [GET_TRACKS_APPEND_SUCCESS]: (state, action) =>\n      produce(state, (draft) => {\n        draft.tracks = {\n          ...action.payload.tracks,\n          items: draft.tracks?.items.concat(action.payload.tracks.items),\n        };\n      }),\n    [GET_TRACKS_SUCCESS]: (state, action) =>\n      produce(state, (draft) => {\n        draft.tracks = action.payload.tracks;\n      }),\n    [GET_TRACKS_FAILURE]: (state) =>\n      produce(state, (draft) => {\n        draft.tracks = null;\n      }),\n  },\n  spotifyStore,\n);\n\nexport default SpotifyReducer;\n","export const START_LOADING = 'loading/start';\nexport const FINISH_LOADING = 'loading/finish';\n","import { handleActions } from 'redux-actions';\nimport { FINISH_LOADING, START_LOADING } from './types';\n\nexport type LoadingStore = {\n  [key: string]: boolean;\n};\n\nexport const loadingStore: LoadingStore = {};\n\nconst LoadingReducer = handleActions<LoadingStore, string>(\n  {\n    [START_LOADING]: (state, action) => ({\n      ...state,\n      [action.payload]: true,\n    }),\n    [FINISH_LOADING]: (state, action) => ({\n      ...state,\n      [action.payload]: false,\n    }),\n  },\n  loadingStore,\n);\n\nexport default LoadingReducer;\n","import createActions from '../../lib/createActions';\n\nexport const [GET_USER, GET_USER_SUCCESS, GET_USER_FAILURE] =\n  createActions('users/get');\n","import { handleActions } from 'redux-actions';\nimport { User } from '../../types/user';\nimport { GET_USER_FAILURE, GET_USER_SUCCESS } from './types';\nimport produce from 'immer';\n\ntype UserStore = {\n  user: User | null;\n  error: any;\n};\n\nexport const userStore: UserStore = {\n  user: null,\n  error: null,\n};\n\ntype Payload = User | any;\n\nconst UserReducer = handleActions<UserStore, Payload>(\n  {\n    [GET_USER_SUCCESS]: (state, action) =>\n      produce(state, (draft) => {\n        draft.user = action.payload;\n      }),\n    [GET_USER_FAILURE]: (state, action) =>\n      produce(state, (draft) => {\n        draft.error = action.payload;\n      }),\n  },\n  userStore,\n);\n\nexport default UserReducer;\n","import { combineReducers } from 'redux';\nimport SpotifyReducer from './spotify';\nimport LoadingReducer from './loading';\nimport UserReducer from './user';\n\nconst RootReducer = combineReducers({\n  SpotifyReducer,\n  LoadingReducer,\n  UserReducer,\n});\n\nexport type RootStore = ReturnType<typeof RootReducer>;\n\nexport default RootReducer;\n","import { createAction } from 'redux-actions';\nimport { FINISH_LOADING, START_LOADING } from './types';\n\nexport const startLoading = createAction<string, string>(\n  START_LOADING,\n  (type: string) => type,\n);\nexport const finishLoading = createAction<string, string>(\n  FINISH_LOADING,\n  (type: string) => type,\n);\n","import { call, put } from '@redux-saga/core/effects';\nimport { AxiosResponse } from 'axios';\nimport { Action } from 'redux';\nimport { finishLoading, startLoading } from '../stores/loading/actions';\n\nexport interface SagaAction<Payload = any> extends Action<string> {\n  payload: Payload;\n  error?: boolean;\n}\n\nexport default function createRequestSaga<P = any, AR = any>(\n  type: string,\n  request: (...params: P[]) => Promise<AxiosResponse<AR>>,\n) {\n  const SUCCESS = `${type}/success`;\n  const FAILURE = `${type}/failure`;\n\n  return function* (action: SagaAction<P>) {\n    yield put(startLoading(type));\n    try {\n      const response: AxiosResponse<AR> = yield call(request, action.payload);\n\n      yield put<SagaAction<AR>>({\n        type: SUCCESS,\n        payload: response.data,\n      });\n    } catch (e) {\n      yield put<SagaAction<AR>>({\n        type: FAILURE,\n        payload: e,\n        error: true,\n      });\n    }\n    yield put(finishLoading(type));\n  };\n}\n","import client from './client';\nimport qs from 'qs';\nimport Track from '../types/track';\n\nconst url = process.env.REACT_APP_SPOTIFY_URL;\n\nconst getTracks = ({ q, offset = 1 }: any) =>\n  client.get<Track>(\n    `${url}/v1/search?${qs.stringify({\n      query: q,\n      type: 'track',\n      market: 'US',\n      limit: 10,\n      offset: offset,\n    })}`,\n    {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n      },\n    },\n  );\n\nconst play = ({ spotify_uri, device_id }: any) =>\n  client.put(\n    `${url}/v1/me/player/play?${qs.stringify({ device_id })}`,\n    {\n      uris: [spotify_uri],\n    },\n    {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n        'Content-Type': 'application/json',\n      },\n    },\n  );\n\nexport { getTracks, play };\n","import createRequestSaga from '../../lib/careteRequestSaga';\nimport Track from '../../types/track';\nimport { GET_TRACKS, GET_TRACKS_APPEND, PLAY } from './types';\nimport * as api from '../../api/spotify';\nimport { takeLatest } from '@redux-saga/core/effects';\n\nconst getTrackSaga = createRequestSaga<{ q: string }, Track>(\n  GET_TRACKS,\n  api.getTracks,\n);\nconst appendTrackSaga = createRequestSaga<{ q: string; offset: string }, Track>(\n  GET_TRACKS_APPEND,\n  api.getTracks,\n);\n\nconst play = createRequestSaga<{ spotify_uri: string; device_id: string }, any>(\n  PLAY,\n  api.play,\n);\n\nexport default function* SpotifySaga() {\n  yield takeLatest(GET_TRACKS, getTrackSaga);\n  yield takeLatest(PLAY, play);\n  yield takeLatest(GET_TRACKS_APPEND, appendTrackSaga);\n}\n","import { SagaAction } from '../../lib/careteRequestSaga';\nimport { User } from '../../types/user';\nimport { GET_USER, GET_USER_FAILURE, GET_USER_SUCCESS } from './types';\nimport * as userApi from '../../api/user';\nimport { takeLatest } from '@redux-saga/core/effects';\nimport { put } from '@redux-saga/core/effects';\nimport { finishLoading, startLoading } from '../loading/actions';\nimport { getUser } from './actions';\nimport { AxiosResponse } from 'axios';\n\nfunction* getUserSaga(action: ReturnType<typeof getUser>) {\n  yield put(startLoading(GET_USER));\n  try {\n    const response: AxiosResponse<User> = yield userApi.getUser(\n      action.payload.access_token,\n    );\n\n    yield put<SagaAction<User | any>>({\n      type: GET_USER_SUCCESS,\n      payload: response.data,\n    });\n  } catch (e) {\n    const msg = e.response.data.error.message;\n    if (msg === 'The access token expired') {\n      try {\n        if (action.payload.refresh_token === 'undefined')\n          throw new Error('Need a New Login');\n        let response: AxiosResponse<User | any> = yield userApi.refreshToken(\n          action.payload.refresh_token,\n        );\n        const { access_token, refresh_token } = response.data;\n        localStorage.setItem('access_token', access_token);\n        localStorage.setItem('refresh_token', refresh_token);\n\n        response = yield userApi.getUser(access_token);\n\n        yield put<SagaAction<User | any>>({\n          type: GET_USER_SUCCESS,\n          payload: response.data,\n        });\n      } catch (e) {\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n        yield put<SagaAction<User | any>>({\n          type: GET_USER_FAILURE,\n          payload: e,\n          error: true,\n        });\n      }\n    }\n  } finally {\n    yield put(finishLoading(GET_USER));\n  }\n}\n\nexport default function* UserSage() {\n  yield takeLatest(GET_USER, getUserSaga);\n}\n","import { all } from '@redux-saga/core/effects';\nimport SpotifySaga from './spotify/saga';\nimport UserSage from './user/saga';\n\nexport default function* RootSaga() {\n  yield all([SpotifySaga(), UserSage()]);\n}\n","import { createAction } from 'redux-actions';\nimport { GET_USER } from './types';\n\ntype Tokens = {\n  access_token: string;\n  refresh_token: string;\n};\nconst getUser = createAction<Tokens, Tokens>(\n  GET_USER,\n  (token: Tokens) => token,\n);\n\nexport { getUser };\n","type DeviceSize = {\n  [key: string]: string;\n  mobile: string;\n  tablet: string;\n  laptop: string;\n};\n\ntype Theme = {\n  device: DeviceSize;\n};\n\nconst deviceSizes: DeviceSize = {\n  mobile: '428px',\n  tablet: '768px',\n  laptop: '1024px',\n};\n\nconst device: DeviceSize = {\n  mobile: `screen and (max-width: ${deviceSizes.mobile})`,\n  tablet: `screen and (max-width: ${deviceSizes.tablet})`,\n  laptop: `screen and (max-width: ${deviceSizes.laptop})`,\n  mobileHeight: `screen and (max-height: ${deviceSizes.mobile})`,\n  tabletHeight: `screen and (max-height: ${deviceSizes.tablet})`,\n};\n\nconst theme: Theme = {\n  device,\n};\n\nexport default theme;\n\n/*\n@media ${({theme}) => theme.device.laptop} {\n    font-size: 2rem;\n    letter-spacing: .5rem;\n}\n@media ${({theme}) => theme.device.tablet} {\n    font-size: 1.5rem;\n    letter-spacing: .25rem;\n}\n@media ${({theme}) => theme.device.mobile} {\n    font-size: 1rem;\n    letter-spacing: .125rem;\n}\n*/\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { applyMiddleware, createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport RootReducer from './stores';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport createSaga from 'redux-saga';\nimport RootSaga from './stores/saga';\nimport { getUser } from './stores/user/actions';\nimport { HashRouter } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport theme from './styles/theme';\n\nconst sagaMW = createSaga();\nconst store = createStore(\n  RootReducer,\n  composeWithDevTools(applyMiddleware(sagaMW)),\n);\nsagaMW.run(RootSaga);\n\nconst loadUser = () => {\n  const access_token = localStorage.getItem('access_token');\n  const refresh_token = localStorage.getItem('refresh_token');\n  if (access_token && refresh_token)\n    store.dispatch(getUser({ access_token, refresh_token }));\n};\nloadUser();\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <Provider store={store}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </Provider>\n  </ThemeProvider>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}